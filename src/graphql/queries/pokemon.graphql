#import "../fragments/pokemonFields.graphql"

# Query to fetch a paginated list of Pokemon with dynamic sorting and filtering
query GetPokemonList(
  $limit: Int!,
  $offset: Int!,
  $orderBy: [pokemon_v2_pokemon_order_by!],
  $where: pokemon_v2_pokemon_bool_exp
) {
  pokemon_v2_pokemon(
    limit: $limit,
    offset: $offset,
    order_by: $orderBy,
    where: $where
  ) {
    ...PokemonBasicFields
    ...PokemonTypeFields
  }
  pokemon_v2_pokemon_aggregate(where: $where) {
    aggregate {
      count
    }
  }
}

# Query to fetch a single Pokemon by ID
query GetPokemonById($id: Int!) {
  pokemon_v2_pokemon_by_pk(id: $id) {
    ...PokemonBasicFields
    ...PokemonTypeFields
    ...PokemonStatsFields
    ...PokemonAbilitiesFields
    ...PokemonSpeciesFields
    ...PokemonSpritesFields
    ...PokemonMovesFields
    ...PokemonGameIndicesFields
    ...PokemonCriesFields
  }
}

# Query to fetch a single Pokemon by name
query GetPokemonByName($name: String!) {
  pokemon_v2_pokemon(where: { name: { _eq: $name } }, limit: 1) {
    ...PokemonBasicFields
    ...PokemonTypeFields
    ...PokemonStatsFields
    ...PokemonAbilitiesFields
    ...PokemonSpeciesFields
    ...PokemonSpritesFields
    ...PokemonMovesFields
    ...PokemonGameIndicesFields
    ...PokemonCriesFields
  }
}

# Query to search Pokemon by partial name
query SearchPokemon($searchTerm: String!) {
  pokemon_v2_pokemon(
    where: { name: { _ilike: $searchTerm } }
    order_by: { id: asc }
    limit: 20
  ) {
    ...PokemonBasicFields
    ...PokemonTypeFields
  }
}

# Query to fetch all available Pokemon types
query GetAllTypes {
  pokemon_v2_type(order_by: { name: asc }) {
    id
    name
  }
}

